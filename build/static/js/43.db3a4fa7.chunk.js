(this.webpackJsonplms=this.webpackJsonplms||[]).push([[43],{1085:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return J}));var r,n=a(15),o=a(35),i=a(0),s=a.n(i),c=a(6),u=a(1),l=a.n(u),m=a(4),d=a(1064),f=a(648),p=a(651),S=a(9),g=a(19),E=a(685),_=a(99),h=a(815),F=a.n(h),I=a(737),O=a.n(I),b=a(738),w=a.n(b),R=a(721),y=a.n(R),v=a(722),N=a.n(v),M=a(650),T=a(727),U=a(539),x={height:"14px",width:"14px"},A=function(){return s.a.createElement("img",{style:x,src:O.a})},C=function(){return s.a.createElement("img",{style:x,src:w.a})},D=function(){return s.a.createElement("img",{style:x,src:y.a})},k=function(){return s.a.createElement("img",{style:x,src:N.a})},B=function(e,t){var a=s.a.useRef();s.a.useImperativeHandle(t,(function(){return{}}));return s.a.createElement("div",{className:F.a.loginForm},s.a.createElement("div",{className:"backButton",onClick:e.handleBack},s.a.createElement(g.a,{type:"arrow-left"})," \xa0 Back"," "),s.a.createElement("div",{className:F.a.formCardTitle},"Login"),s.a.createElement("div",{className:F.a.formCardSubTitle},"Sign in with your username or email and password"),s.a.createElement(d.a,{ref:a,onSubmit:function(t){t.preventDefault(),e.loginWithEmailAndPassword()}},s.a.createElement(d.a.Item,null,e.form.getFieldDecorator("email",{initialValue:e.formData.email,rules:[{required:!0,message:"Please provide your email address.",whitespace:!0}]})(s.a.createElement(U.a,{placeholder:"Email",type:"email",autoComplete:"username",suffix:s.a.createElement(g.a,{style:{opacity:"0.6"},component:A})}))),s.a.createElement(d.a.Item,null,e.form.getFieldDecorator("password",{initialValue:e.formData.password,rules:[{required:!0,message:"Please provide a password.",whitespace:!0}]})(s.a.createElement(U.a,{placeholder:"Password",type:"password",autoComplete:"current-password",suffix:s.a.createElement(g.a,{style:{opacity:"0.6"},component:C})}))),e.detailsFormError?s.a.createElement(p.a,{className:F.a.alertMessage,message:"Sign In Failed",description:e.detailsFormError.message,type:"error"}):null,s.a.createElement(d.a.Item,null,s.a.createElement(M.a,{type:"primary",loading:e.isSubmittingForm},"Sign In"))),s.a.createElement(E.a,null,"OR"),s.a.createElement("div",{className:"".concat(F.a.thirdPartyAuthContainer," loginPageAuthContainer")},s.a.createElement(T.a,{onClick:e.continueWithGoogle},s.a.createElement(g.a,{component:D}),"Sign In with Google"),s.a.createElement(T.a,{onClick:e.continueWithFacebook},s.a.createElement(g.a,{component:k}),"Sign In with Facebook")),s.a.createElement("div",{className:F.a.loginFormFooter},s.a.createElement("div",{className:F.a.forgotPasswordText},s.a.createElement(_.b,{to:"/resetpassword"},"Forgot password?")),s.a.createElement("div",{className:F.a.alreadyHaveAccountText},"Need an account? ",s.a.createElement(_.b,{to:"/signup?redirect=".concat(new URLSearchParams(window.location.search).get("redirect")||"")}," Sign up"))))},L=a(11),j={email:"",password:""};!function(e){e.SET_FORM_DATA="SET_FORM_DATA",e.BEGIN_FORM_SUBMISSION="BEGIN_FORM_SUBMISSION",e.FINISHED_FORM_SUBMISSION_WITH_ERROR="FINISHED_FORM_SUBMISSION_WITH_ERROR",e.FINISHED_FORM_SUBMISSION_SUCCESSFULLY="FINISHED_FORM_SUBMISSION_SUCCESSFULLY"}(r||(r={}));var P=function(e){return Object(L.a)({},e,{isSubmittingForm:!1,formData:j})},W=function(e,t){switch(t.type){case r.SET_FORM_DATA:return Object(L.a)({},e,{formData:Object(L.a)({},e.formData,{},t.formData)});case r.BEGIN_FORM_SUBMISSION:return Object(L.a)({},e,{isSubmittingForm:!0});case r.FINISHED_FORM_SUBMISSION_SUCCESSFULLY:return Object(L.a)({},e,{isSubmittingForm:!1,sucessfullySubmittedForm:!0});case r.FINISHED_FORM_SUBMISSION_WITH_ERROR:return Object(L.a)({},e,{isSubmittingForm:!1,sucessfullySubmittedForm:!1,formSubmissionError:t.submissionError});default:return e}},H=a(79),G=a(29),q=a(725),Y=Object(S.a)(c.h)((function(e){var t=s.a.useContext(o.a),a=Object(n.a)(t,1)[0],i=s.a.useReducer(W,{},P),c=Object(n.a)(i,2),u=c[0],S=c[1],g=s.a.useRef(),E=d.a.create({name:"loginForm"})(s.a.forwardRef(Object(H.a)(B))),_=function(){var t=Object(m.a)(l.a.mark((function t(){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,H.d.Auth.handleThirdPartyUserSignInRedirect();case 2:(a=t.sent).savedUser&&(r=Object(H.e)("/mydashboard"),e.history.push(r)),a.error&&f.a.error({message:"Problem Signing In",description:"An error occurred while trying to sign you in: ".concat(a.error),placement:"bottomRight"});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();s.a.useEffect((function(){_()}),[]);var h=function(){var e=Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g.current.validateFieldsAndScroll(function(){var e=Object(m.a)(l.a.mark((function e(t,a){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=7;break}return S({type:r.SET_FORM_DATA,formData:a}),S({type:r.BEGIN_FORM_SUBMISSION}),e.next=5,H.d.Auth.signInWithEmailAndPassword(a.email,a.password);case 5:(n=e.sent).error?S({type:r.FINISHED_FORM_SUBMISSION_WITH_ERROR,submissionError:n.error}):S({type:r.FINISHED_FORM_SUBMISSION_SUCCESSFULLY});case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.d)();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(m.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.e)();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=s.a.useMemo((function(){return a.invalidAuthTokenError&&s.a.createElement(p.a,{className:F.a.alertJWTError,message:"Authentication Error",description:"We had some issues authenticating you. Please log in again.",type:"error",showIcon:!0})}),[a.invalidAuthTokenError]);return s.a.createElement("div",{className:F.a.loginRoot},s.a.createElement(q.a,null),s.a.createElement("div",{className:F.a.formWrapper},b,s.a.createElement(E,{ref:g,loginWithEmailAndPassword:h,continueWithGoogle:O,continueWithFacebook:I,detailsFormError:u.formSubmissionError,isSubmittingForm:u.isSubmittingForm,formData:u.formData,handleBack:function(t){e.history.goBack()}})))})),J=function(e){var t=s.a.useContext(o.a);if(Object(n.a)(t,1)[0].authUser){var a=Object(H.e)("/mydashboard");return s.a.createElement(c.a,{to:a})}return s.a.createElement(Y,null)}},737:function(e,t,a){e.exports=a.p+"static/media/atTheRate.01f1962f.svg"},738:function(e,t,a){e.exports=a.p+"static/media/passswordLock.d7852dc9.svg"},815:function(e,t,a){e.exports={thirdPartyAuthContainer:"Login_thirdPartyAuthContainer__3B2Kf",formWrapper:"Login_formWrapper__hejRM",loginForm:"Login_loginForm__SPE5E",loginFormFooter:"Login_loginFormFooter__2qg8R",loginRoot:"Login_loginRoot__1f72R",alertMessage:"Login_alertMessage__3o_dG",signUpFooter:"Login_signUpFooter__86sRF",formCardTitle:"Login_formCardTitle__3iqaK",formCardSubTitle:"Login_formCardSubTitle__qUmaE",alreadyHaveAccountText:"Login_alreadyHaveAccountText__3kFDb",forgotPasswordText:"Login_forgotPasswordText__2dMZW"}}}]);
//# sourceMappingURL=43.db3a4fa7.chunk.js.map